%!PS-Adobe-3.0
%%Creator: groff version 1.22.2
%%CreationDate: Tue Feb  9 13:25:14 2016
%%Title: man.2.readlink.ps
%%BoundingBox: 0 0 612 792
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.22 2
%%Pages: 3
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.22 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 110.69(READLINK\(2\) Linux)72 48 R(Programmer')
2.5 E 2.5(sM)-.55 G 110.69(anual READLINK\(2\))-2.5 F/F1 10.95
/Times-Bold@0 SF -.219(NA)72 84 S(ME).219 E F0(readlink \255 read v)108
96 Q(alue of a symbolic link)-.25 E F1(SYNOPSIS)72 112.8 Q/F2 10
/Times-Bold@0 SF(#include <unistd.h>)108 124.8 Q(ssize_t r)108 148.8 Q
(eadlink\(const char *)-.18 E/F3 10/Times-Italic@0 SF(path)1.25 E F2 2.5
(,c).28 G(har *)-2.5 E F3 -.2(bu)C(f).2 E F2 2.5(,s)1.96 G(ize_t)-2.5 E
F3 -.2(bu)2.5 G(fsiz).2 E F2(\);).41 E F0(Feature T)88 172.8 Q
(est Macro Requirements for glibc \(see)-.7 E F2(featur)2.5 E
(e_test_macr)-.18 E(os)-.18 E F0(\(7\)\):)A F2 -.18(re)108 196.8 S
(adlink).18 E F0(\(\):)A(_BSD_SOURCE || _XOPEN_SOURCE >= 500 ||)128
208.8 Q
(_XOPEN_SOURCE && _XOPEN_SOURCE_EXTENDED || _POSIX_C_SOURCE >= 200112L)
128 220.8 Q F1(DESCRIPTION)72 237.6 Q F2 -.18(re)108 249.6 S(adlink).18
E F0 1.105(\(\) places the contents of the symbolic link)B F3(path)4.855
E F0 1.105(in the b)3.885 F(uf)-.2 E(fer)-.25 E F3 -.2(bu)3.605 G(f).2 E
F0 3.606(,w)1.96 G 1.106(hich has size)-3.606 F F3 -.2(bu)3.606 G(fsiz)
.2 E F0(.).41 E F2 -.18(re)6.106 G(ad-).18 E(link)108 261.6 Q F0 .407
(\(\) does not append a null byte to)B F3 -.2(bu)2.907 G(f).2 E F0 5.407
(.I)1.96 G 2.907(tw)-5.407 G .406
(ill truncate the contents \(to a length of)-2.907 F F3 -.2(bu)2.906 G
(fsiz).2 E F0 .406(characters\), in)3.316 F(case the b)108 273.6 Q(uf)
-.2 E(fer is too small to hold all of the contents.)-.25 E F1(RETURN V)
72 290.4 Q(ALUE)-1.478 E F0 .242(On success,)108 302.4 R F2 -.18(re)
2.742 G(adlink).18 E F0 .242(\(\) returns the number of bytes placed in)
B F3 -.2(bu)2.742 G(f).2 E F0 5.242(.O)1.96 G 2.742(ne)-5.242 G(rror)
-2.742 E 2.742<2cad>-.4 G 2.742(1i)-2.742 G 2.742(sr)-2.742 G .242
(eturned and)-2.742 F F3(errno)2.932 E F0 .243(is set)2.923 F
(to indicate the error)108 314.4 Q(.)-.55 E F1(ERR)72 331.2 Q(ORS)-.329
E F2(EA)108 343.2 Q(CCES)-.55 E F0
(Search permission is denied for a component of the path pre\214x.)144
355.2 Q(\(See also)5 E F2(path_r)2.5 E(esolution)-.18 E F0(\(7\).\))A F2
(EF)108 372 Q -.5(AU)-.9 G -.92(LT).5 G F3 -.2(bu)144 384 S(f).2 E F0
-.15(ex)4.46 G(tends outside the process').15 E 2.5(sa)-.55 G
(llocated address space.)-2.5 E F2(EINV)108 400.8 Q(AL)-1.35 E F3 -.2
(bu)144 412.8 S(fsiz).2 E F0(is not positi)2.91 E -.15(ve)-.25 G(.).15 E
F2(EINV)108 429.6 Q(AL)-1.35 E F0
(The named \214le is not a symbolic link.)144 441.6 Q F2(EIO)108 458.4 Q
F0(An I/O error occurred while reading from the \214le system.)144 458.4
Q F2(ELOOP)108 475.2 Q F0 -.8(To)144 487.2 S 2.5(om).8 G(an)-2.5 E 2.5
(ys)-.15 G(ymbolic links were encountered in translating the pathname.)
-2.5 E F2(EN)108 504 Q(AMET)-.2 E(OOLONG)-.18 E F0 2.5(Ap)144 516 S
(athname, or a component of a pathname, w)-2.5 E(as too long.)-.1 E F2
(ENOENT)108 532.8 Q F0(The named \214le does not e)144 544.8 Q(xist.)
-.15 E F2(ENOMEM)108 561.6 Q F0(Insuf)144 573.6 Q(\214cient k)-.25 E
(ernel memory w)-.1 E(as a)-.1 E -.25(va)-.2 G(ilable.).25 E F2(ENO)108
590.4 Q(TDIR)-.4 E F0 2.5(Ac)144 602.4 S
(omponent of the path pre\214x is not a directory)-2.5 E(.)-.65 E F1
(CONFORMING T)72 619.2 Q(O)-.197 E F0(4.4BSD \()108 631.2 Q F2 -.18(re)C
(adlink).18 E F0(\(\) \214rst appeared in 4.2BSD\), POSIX.1-2001.)A F1
(NO)72 648 Q(TES)-.438 E F0 .246(In v)108 660 R .245
(ersions of glibc up to and including glibc 2.4, the return type of)-.15
F F2 -.18(re)2.745 G(adlink).18 E F0 .245(\(\) w)B .245(as declared as)
-.1 F F3(int)2.745 E F0 5.245(.N).68 G -2.1 -.25(ow a)-5.245 H(-).25 E
(days, the return type is declared as)108 672 Q F3(ssize_t)2.5 E F0 2.5
(,a).68 G 2.5(s\()-2.5 G(ne)-2.5 E(wly\) required in POSIX.1-2001.)-.25
E .165(Using a statically sized b)108 696 R(uf)-.2 E .165
(fer might not pro)-.25 F .166
(vide enough room for the symbolic link contents.)-.15 F .166
(The required)5.166 F 1.362(size for the b)108 708 R(uf)-.2 E 1.362
(fer can be obtained from the)-.25 F F3(stat.st_size)4.202 E F0 -.25(va)
4.042 G 1.361(lue returned by a call to).25 F F2(lstat)3.861 E F0 1.361
(\(2\) on the link.)B(Ho)108 720 Q(we)-.25 E -.15(ve)-.25 G 1.781 -.4
(r, t).15 H .981(he number of bytes written by).4 F F2 -.18(re)3.482 G
(adlink).18 E F0 .982(\(\) should be check)B .982(ed to mak)-.1 F 3.482
(es)-.1 G .982(ure that the size of the)-3.482 F 184.28
(Linux 2013-07-18)72 768 R(1)205.67 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 110.69(READLINK\(2\) Linux)72 48 R(Programmer')
2.5 E 2.5(sM)-.55 G 110.69(anual READLINK\(2\))-2.5 F 1.422
(symbolic link did not increase between the calls.)108 84 R 1.422
(Dynamically allocating the b)6.422 F(uf)-.2 E 1.422(fer for)-.25 F/F1
10/Times-Bold@0 SF -.18(re)3.922 G(adlink).18 E F0 1.422(\(\) also)B
.263(addresses a common portability problem when using)108 96 R/F2 10
/Times-Italic@0 SF -1.07 -.9(PA T)2.764 H(H_MAX).9 E F0 .264(for the b)
3.704 F(uf)-.2 E .264(fer size, as this constant is not)-.25 F
(guaranteed to be de\214ned per POSIX if the system does not ha)108 108
Q .3 -.15(ve s)-.2 H(uch limit.).15 E/F3 10.95/Times-Bold@0 SF(EXAMPLE)
72 124.8 Q F0 1.104(The follo)108 136.8 R 1.103
(wing program allocates the b)-.25 F(uf)-.2 E 1.103(fer needed by)-.25 F
F1 -.18(re)3.603 G(adlink).18 E F0 1.103
(\(\) dynamically from the information pro-)B(vided by)108 148.8 Q F1
(lstat)2.5 E F0(\(\), making sure there')A 2.5(sn)-.55 G 2.5(or)-2.5 G
(ace condition between the calls.)-2.5 E(#include <sys/types.h>)108
172.8 Q(#include <sys/stat.h>)108 184.8 Q(#include <stdio.h>)108 196.8 Q
(#include <stdlib)108 208.8 Q(.h>)-.4 E(#include <unistd.h>)108 220.8 Q
(int)108 244.8 Q(main\(int ar)108 256.8 Q(gc, char *ar)-.18 E(gv[]\))
-.18 E({)108 268.8 Q(struct stat sb;)118 280.8 Q(char *linkname;)118
292.8 Q(ssize_t r;)118 304.8 Q(if \(ar)118 328.8 Q(gc != 2\) {)-.18 E
(fprintf\(stderr)128 340.8 Q 2.5(,")-.4 G(Usage: %s <pathname>\\n", ar)
-2.5 E(gv[0]\);)-.18 E -.15(ex)128 352.8 S(it\(EXIT_F).15 E(AILURE\);)
-.74 E(})118 364.8 Q(if \(lstat\(ar)118 388.8 Q
(gv[1], &sb\) == \2551\) {)-.18 E(perror\("lstat"\);)128 400.8 Q -.15
(ex)128 412.8 S(it\(EXIT_F).15 E(AILURE\);)-.74 E(})118 424.8 Q
(linkname = malloc\(sb)118 448.8 Q(.st_size + 1\);)-.4 E
(if \(linkname == NULL\) {)118 460.8 Q(fprintf\(stderr)128 472.8 Q 2.5
(,")-.4 G(insuf)-2.5 E(\214cient memory\\n"\);)-.25 E -.15(ex)128 484.8
S(it\(EXIT_F).15 E(AILURE\);)-.74 E(})118 496.8 Q 2.5(r=r)118 520.8 S
(eadlink\(ar)-2.5 E(gv[1], linkname, sb)-.18 E(.st_size + 1\);)-.4 E
(if \(r == \2551\) {)118 544.8 Q(perror\("lstat"\);)128 556.8 Q -.15(ex)
128 568.8 S(it\(EXIT_F).15 E(AILURE\);)-.74 E(})118 580.8 Q(if \(r > sb)
118 604.8 Q(.st_size\) {)-.4 E(fprintf\(stderr)128 616.8 Q 2.5(,")-.4 G
(symlink increased in size ")-2.5 E
("between lstat\(\) and readlink\(\)\\n"\);)168 628.8 Q -.15(ex)128
640.8 S(it\(EXIT_F).15 E(AILURE\);)-.74 E(})118 652.8 Q
(linkname[r] = \010\\0\010;)118 676.8 Q
(printf\("\010%s\010 points to \010%s\010\\n", ar)118 700.8 Q
(gv[1], linkname\);)-.18 E -.15(ex)118 724.8 S(it\(EXIT_SUCCESS\);).15 E
184.28(Linux 2013-07-18)72 768 R(2)205.67 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 110.69(READLINK\(2\) Linux)72 48 R(Programmer')
2.5 E 2.5(sM)-.55 G 110.69(anual READLINK\(2\))-2.5 F(})108 84 Q/F1
10.95/Times-Bold@0 SF(SEE ALSO)72 100.8 Q/F2 10/Times-Bold@0 SF -.18(re)
108 112.8 S(adlink).18 E F0(\(1\),)A F2(lstat)2.5 E F0(\(2\),)A F2 -.18
(re)2.5 G(adlinkat).18 E F0(\(2\),)A F2(stat)2.5 E F0(\(2\),)A F2
(symlink)2.5 E F0(\(2\),)A F2(path_r)2.5 E(esolution)-.18 E F0(\(7\),)A
F2(symlink)2.5 E F0(\(7\))A F1(COLOPHON)72 129.6 Q F0 .06
(This page is part of release 3.53 of the Linux)108 141.6 R/F3 10
/Times-Italic@0 SF(man-pa)2.94 E -.1(ge)-.1 G(s).1 E F0 2.56(project. A)
2.83 F .06(description of the project, and informa-)2.56 F
(tion about reporting b)108 153.6 Q(ugs, can be found at http://www)-.2
E(.k)-.65 E(ernel.or)-.1 E(g/doc/man\255pages/.)-.18 E 184.28
(Linux 2013-07-18)72 768 R(3)205.67 E 0 Cg EP
%%Trailer
end
%%EOF
